Test Script: TS-017 - Add Product to Shopping Cart

Test Scenario: As a registered buyer, I want to add products to my shopping cart, so that I can purchase multiple items in a single transaction.

Prerequisites:
- User has a registered and verified account
- User is logged in
- Product catalog has active products available
- Website is accessible

Test Data:
- User Email: john.doe@example.com
- Product: Classic Blue Oxford Shirt
- Size: Small
- Color: Blue
- SKU: MEN-SHI-001-S-BL
- Price: $49.99

Test Steps:

GIVEN the user is logged in as "john.doe@example.com"
AND the user is on the product detail page for "Classic Blue Oxford Shirt"
WHEN the user views the product details
THEN the product should display all available information:
  - Product images
  - Product name: "Classic Blue Oxford Shirt"
  - Price: "$49.99"
  - Available sizes (S, M, L, XL, XXL)
  - Available colors
  - Ratings and reviews
AND the page should have size and color selection dropdowns
AND the page should have an "Add to Cart" button

GIVEN the user is viewing the product detail page
WHEN the user selects size "Small" from the size dropdown
AND the user selects color "Blue" from the color dropdown
AND the user clicks the "Add to Cart" button
THEN the system should verify the user is logged in (already confirmed)
AND the system should add the selected product with chosen variations to the user's cart
AND the system should display a success message "Product added to cart successfully"
AND the cart icon in the header should update to show quantity (e.g., "Cart (1)")

GIVEN the product has been added to the cart
WHEN the user clicks on the shopping cart icon
THEN the user should be redirected to the shopping cart page
AND the cart should display the added product:
  - Product name: "Classic Blue Oxford Shirt"
  - Size: Small
  - Color: Blue
  - Quantity: 1
  - Unit Price: $49.99
  - Subtotal: $49.99
AND the cart should show the total price: $49.99

GIVEN the user is viewing the cart
WHEN the user navigates back to browse more products
AND the user adds another product to the cart
THEN the cart should now contain both products
AND the cart quantity in the header should update (e.g., "Cart (2)")
AND the total should reflect the sum of all cart items

Expected Result:
- User can view product details including size and color options
- User selects desired size and color variations
- User clicks "Add to Cart" button
- System adds product with selected variations to user's cart
- Success message is displayed
- Cart icon updates to show item count
- User can view cart and see added product with correct details
- Cart displays correct subtotals and total
- User can add multiple products to cart
- Cart quantity and total update accordingly

Validation Points:
- Product detail page displays all required information
- Size and color selection dropdowns are functional
- "Add to Cart" button is clickable
- System verifies user is logged in before adding to cart
- Product with correct variations is added to cart
- Cart session is maintained
- Cart icon updates in real-time
- Cart page displays accurate product and pricing information
- User can continue shopping and add more items
- Cart persists across sessions for logged-in users
