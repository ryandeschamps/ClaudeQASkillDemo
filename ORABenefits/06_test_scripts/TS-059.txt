Test Script ID: TS-059
Test Scenario: Generate Billing Charges
Priority: Critical
Preconditions:
- Benefits administrator role with billing permissions
- Billing period configured in system
- Active enrollments with premium amounts
- Charge generation batch process configured
- Integration with payroll or billing system enabled

GIVEN: End of billing period (month) with active benefit enrollments requiring premium collection
WHEN: Benefits administrator prepares and generates billing charges for the billing period
THEN: Billing charges successfully generated for all enrolled employees with accurate premium amounts

Test Steps:
1. Billing period end approaching: October 2024
2. Benefits administrator logs into Oracle Fusion HCM
3. Navigate to "Benefits Billing" or "Premium Billing" work area
4. Click "Generate Billing Charges" or "Prepare Billing"
5. System displays billing preparation screen
6. Select billing parameters:
   - Billing period: October 2024 (2024-10-01 to 2024-10-31)
   - Coverage effective period: November 2024
   - Payment due date: 2024-10-15
7. Select employee population:
   - All active employees with benefit enrollments
   - Filter by: Benefits group, Legal entity, or All
8. Click "Preview Billing Charges"
9. System calculates charges for all enrollments:
   - Medical plan premiums
   - Dental plan premiums
   - Vision plan premiums
   - Life insurance premiums
   - Disability premiums
   - FSA/HSA deductions
10. Review preview report showing:
    - Total employees: 1,500
    - Total charges to be generated: $425,000
    - Breakdown by plan type
    - Breakdown by payment method (payroll deduction, direct bill)
11. Verify sample employee charges for accuracy:
    - Employee A: Medical $185 + Dental $30 + Life $22 = $237 total
    - Employee B: Medical $390 + Dental $55 + Vision $26 = $471 total
12. Review any warnings or exceptions:
    - 5 employees with suspended coverage (no charges)
    - 2 employees on unpaid leave (billing hold)
13. Address any exceptions or correct errors
14. Click "Generate Billing Charges"
15. System creates billing batch: Batch ID B-2024-10-001
16. Batch process runs and generates individual charges
17. Review batch results:
    - Charges generated: 1,493 employees
    - Total amount: $424,150
    - Exceptions: 7 employees (suspended or on hold)
18. Charges created with status: "Generated - Pending Payment"
19. Export billing file for payroll system integration
20. Verify charges appear in employee billing records

Expected Result:
- Benefits administrator successfully initiates billing charge generation
- Billing parameters clearly specified (period, due date, population)
- Preview functionality shows accurate charge calculations
- Total charges and employee counts displayed for verification
- Sample charges can be reviewed for accuracy before final generation
- Exceptions and warnings clearly identified
- Billing batch successfully generated with unique ID
- Individual charges created for all eligible employees
- Premium amounts accurate based on plan enrollments
- Suspended or hold employees properly excluded
- Billing charges visible in employee records
- Export file generated for payroll or payment processing
- Audit trail captures billing batch details and parameters

Test Data Reference:
- All variants with Monthly_Premium values
- All active employees with benefit enrollments
- Payment_Method: Payroll Deduction or Direct Bill

Notes:
- Verify charge generation process comprehensive and accurate
- Confirm preview functionality prevents errors before final generation
- Test exception handling for suspended coverage, leaves of absence, terminations
- Verify integration with payroll system for deduction processing
- Ensure charges calculated correctly for mid-period enrollment changes (proration)
- Test batch processing handles large employee populations efficiently
- Confirm audit trail documents billing batch creation
- Verify charges can be reversed and regenerated if errors found before payment
- Test notification to employees of billing charges if required
- Ensure billing effective dates and coverage dates aligned properly
