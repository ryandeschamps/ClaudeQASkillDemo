Test Script ID: TS-075
Test Scenario: Delete Person Data in Non-Production
Priority: Low
Preconditions:
- Test/sandbox environment (NOT production)
- Benefits administrator role with delete privileges
- Person deletion functionality enabled in non-production only
- Test data requiring complete removal
- Delete process with comprehensive data removal

GIVEN: Test environment contains test employee data that needs to be completely removed
WHEN: Benefits administrator deletes person data in non-production environment
THEN: All person benefits data successfully deleted enabling clean test scenario restart

Test Steps:
1. Test environment: ORA Benefits SANDBOX
2. Environment verified: NON-PRODUCTION ✓
3. Test employee created for scenario testing: P999001 (Test Employee)
4. Test scenarios completed, need to delete test data for clean restart
5. Benefits administrator logs into Oracle Fusion HCM SANDBOX
6. System displays prominent banner: "SANDBOX ENVIRONMENT - Test Data Only"
7. Navigate to "Data Management" or "Person Maintenance"
8. Click "Delete Person Data" or "Remove Test Employee"
9. System displays environment verification:
    - Current environment: SANDBOX (Non-Production) ✓
    - Feature availability: DELETE enabled
    - Warning: "This feature is DISABLED in production"
10. Enter person identifier: P999001 or Test Employee Name
11. System retrieves person data and displays:
    - Person Number: P999001
    - Name: Test Employee, John
    - Employment status: Active (Test)
    - Hire date: 2024-01-01
12. System displays all associated benefits data to be deleted:
    - Benefits enrollments: 5 active enrollments
    - Life events: 3 processed life events
    - Dependents: 2 test dependents
    - Beneficiaries: 1 beneficiary designation
    - Billing charges: 10 billing records
    - Payments: 8 payment records
    - Documents: 4 uploaded documents
    - Action items: 2 action items
13. System calculates total records to be deleted: 35 records across all tables
14. Review deletion scope:
    - Person record: Will be deleted
    - Enrollments: All benefit enrollments deleted
    - Life events: All life event records deleted
    - Dependents: All dependent records deleted
    - Beneficiaries: All beneficiary designations deleted
    - Billing: All charges and payments deleted
    - Documents: All uploaded documents deleted
    - Action items: All action items deleted
15. System displays warning:
    - "This will PERMANENTLY delete ALL data for person P999001"
    - "This action CANNOT be undone"
    - "Only use for test data in non-production environments"
16. Enter deletion confirmation code: "DELETE P999001"
17. Click "Delete Person Data"
18. System processes deletion:
    - Deleting dependent records first (referential integrity)
    - Deleting benefit enrollments
    - Deleting life events
    - Deleting billing and payment records
    - Deleting documents
    - Deleting action items
    - Finally deleting person record
19. Deletion processing complete
20. Review deletion results:
    - Person P999001: DELETED
    - Total records deleted: 35
    - Deletion duration: 5 seconds
21. Verify person completely removed:
    - Search for person P999001: Not found ✓
    - Benefits enrollment search: No records ✓
    - Life events search: No records ✓
    - Billing search: No records ✓
22. Generate deletion audit report:
    - Deletion date: 2024-11-15
    - Person deleted: P999001 (Test Employee, John)
    - Total records deleted: 35
    - Administrator: [Name]
    - Environment: SANDBOX
23. Test data successfully removed
24. Ready for new test scenario with clean slate

Expected Result:
- Delete functionality only available in non-production environments
- Environment verification prevents accidental production use
- Clear identification of non-production environment
- Person search retrieves complete data for review
- Comprehensive display of all associated data to be deleted
- Record count shows scope of deletion (35 records)
- Deletion scope clearly explained for each data type
- Strong warnings about permanent deletion
- Confirmation code required to prevent accidental deletion
- Deletion processes in correct order (referential integrity)
- All associated data deleted comprehensively
- No orphaned records left in database
- Verification confirms complete removal
- Audit trail captures deletion activity
- Test environment ready for clean restart
- Feature absolutely disabled in production environment

Test Data Reference:
- Test/sandbox environments only
- Test employee data created for testing purposes
- Scenarios requiring clean restart:
  - Regression testing cycles
  - Demo environment resets
  - Training environment cleanup
  - Development testing iterations

Notes:
- CRITICAL: Verify functionality disabled in production
- Confirm strong environment verification before delete
- Test that production attempts are blocked completely
- Verify comprehensive data removal (all related tables)
- Ensure referential integrity maintained during deletion
- Test audit trail captures all deletion activity
- Confirm no orphaned records after deletion
- Verify deletion performance acceptable
- Test that deleted data cannot be recovered
- Ensure feature only used for test data cleanup in non-production
