Test Script ID: TS-067
Test Scenario: Stop Billing Permanently
Priority: Low
Preconditions:
- Employee terminated or coverage ended
- Benefits administrator role with billing termination authority
- Permanent billing stop functionality enabled
- Final billing reconciliation process
- COBRA notification if applicable

GIVEN: An employee's employment terminated and benefits coverage ended
WHEN: Benefits administrator permanently stops billing for the terminated employee
THEN: Billing successfully stopped, final charges reconciled, and no future charges generated

Test Steps:
1. Employee terminated employment on 2024-10-15
2. Coverage end date: 2024-10-31 (end of month per policy)
3. Final charges generated for October: $237.00
4. Final payment received: $237.00
5. All charges paid and reconciled
6. Benefits administrator logs into Oracle Fusion HCM
7. Navigate to "Billing Management" or "Terminate Billing"
8. Search for terminated employee: Person Number or Name
9. Employee: Robert Patterson, P100055
10. Review employee's billing history:
    - October charges: $237.00 - Paid
    - Outstanding balance: $0.00
    - Coverage end date: 2024-10-31
    - Employment status: Terminated
11. Click "Stop Billing Permanently" or "Terminate Billing"
12. System displays billing termination confirmation
13. Review termination details:
    - Employee: Robert Patterson
    - Coverage end date: 2024-10-31
    - Final billing date: October 2024
    - Outstanding balance: $0.00
    - Billing termination date: 2024-11-01
14. System prompts: "Are you sure you want to permanently stop billing?"
15. Confirm termination
16. Enter termination reason: "Employment terminated - coverage ended"
17. System checks for outstanding balances:
    - Outstanding balance: $0.00 ✓
    - All charges reconciled ✓
18. System processes billing termination
19. Billing status updated: "Terminated"
20. Future charge generation excluded: Employee will not appear in future billing cycles
21. COBRA notification generated (if applicable)
22. Employee receives final billing statement:
    - Final charges: $237.00 - Paid
    - Total amount paid: $237.00
    - Outstanding balance: $0.00
    - Billing status: Terminated
23. November billing cycle runs
24. System skips terminated employee (billing stopped)
25. No November charges generated
26. Employee's billing record archived
27. Generate billing termination report for accounting
28. Final reconciliation completed

Expected Result:
- Billing termination process accessible to administrator
- Employee's billing history and current status clearly displayed
- Outstanding balance check performed before termination
- System prevents termination if outstanding balance exists
- Confirmation required before permanent billing stop
- Termination reason documented
- Billing status updated to "Terminated"
- Employee excluded from future charge generation cycles
- COBRA notification triggered if applicable
- Final billing statement generated for employee
- Statement shows final reconciliation with $0.00 balance
- Future billing cycles exclude terminated employee
- Billing record archived for historical reference
- Accounting report generated for final reconciliation
- Audit trail captures billing termination details

Test Data Reference:
- Variant IDs: V043, V044, V045, V076, V077 (Terminated employees)
- Test Data: Terminated employees requiring billing stop
  - Row 44 (P100043, Edward Carter): Terminated 2024-10-15
  - Row 45 (P100044, Sharon Mitchell): Terminated 2024-10-20

Notes:
- Verify billing termination permanent and not reversible
- Confirm outstanding balance check prevents premature termination
- Test final billing statement generation
- Verify terminated employees excluded from future billing cycles
- Ensure COBRA notification triggered for eligible terminations
- Test billing termination with outstanding balance (should be prevented)
- Confirm reconciliation process for final charges
- Verify archived billing records accessible for audit
- Test billing reactivation if employee rehired (new billing setup)
- Ensure accounting reports include terminated billing reconciliation
