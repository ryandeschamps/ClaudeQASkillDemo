Test Script ID: TS-070
Test Scenario: Bulk Update Balances via Workbook
Priority: Critical
Preconditions:
- Benefits administrator role with balance update privileges
- Workbook template for FSA/benefit balance updates available
- Balance discrepancies identified requiring correction
- Workbook upload and validation functionality enabled
- Balance audit and reconciliation process

GIVEN: FSA balance discrepancies discovered for 50 employees requiring correction
WHEN: Benefits administrator uploads workbook with corrected balance amounts
THEN: FSA balances successfully updated in bulk with accurate amounts and audit trail

Test Steps:
1. Annual FSA balance audit identifies discrepancies
2. 50 employees have incorrect FSA balances in system
3. Root cause: Claims processing errors from vendor
4. Corrected balances received from FSA administrator
5. Benefits administrator logs into Oracle Fusion HCM
6. Navigate to "Data Management" or "Workbook Uploads"
7. Click "Download Template"
8. Select template: "Update Benefit Balances"
9. Download template: Benefit_Balance_Update_Template.xlsx
10. Open template in Excel
11. Template columns:
    - Person_Number (required)
    - Benefit_Plan (required)
    - Plan_Year (required)
    - Current_Balance (validation)
    - Corrected_Balance (required)
    - Adjustment_Amount (calculated)
    - Adjustment_Reason (required)
    - Supporting_Document (optional reference)
12. Populate template with 50 balance corrections:
    - Person_Number: P100009, P100040, ... (50 employees)
    - Benefit_Plan: Healthcare FSA
    - Plan_Year: 2024
    - Current_Balance: (various incorrect amounts)
    - Corrected_Balance: (various corrected amounts)
    - Adjustment_Reason: FSA claims processing correction
13. Example row:
    - Person_Number: P100009
    - Benefit_Plan: Healthcare FSA
    - Plan_Year: 2024
    - Current_Balance: $1,200.00
    - Corrected_Balance: $1,450.00
    - Adjustment_Amount: +$250.00 (calculated by system)
    - Adjustment_Reason: Claim #12345 processed incorrectly, correcting balance
14. Save completed workbook: FSA_Balance_Corrections_50.xlsx
15. Return to HCM Data Loader
16. Click "Upload Workbook"
17. Select file: FSA_Balance_Corrections_50.xlsx
18. Choose upload mode: "Validate Only" (first pass to check for errors)
19. Click "Upload" for validation
20. System validates workbook:
    - Person numbers exist: ✓
    - Benefit plans valid: ✓
    - Plan year valid: ✓
    - Current balances match system: ✓
    - Corrected balances reasonable: ✓
    - Adjustment reasons provided: ✓
21. Validation warnings:
    - 3 adjustments exceed $500 - require additional approval
22. Review warnings and obtain additional approval
23. Switch upload mode: "Validate and Process"
24. Reupload file to process corrections
25. System processes balance updates
26. Processing complete: 50 balance corrections applied
27. Review processing results:
    - Total rows: 50
    - Successful updates: 50
    - Failed updates: 0
    - Total adjustment amount: +$12,450 (net increase across all corrections)
28. Generate balance correction report for accounting reconciliation
29. Verify sample employee balances updated:
    - P100009: FSA balance updated from $1,200 to $1,450 ✓
30. Employee notifications sent explaining balance corrections

Expected Result:
- Balance update template easily accessible
- Template includes required fields and validation columns
- Template accepts multiple balance adjustments efficiently
- Validation comprehensive: person IDs, plan references, balance reasonableness
- Current balance validation ensures starting point accurate
- Adjustment amount automatically calculated by system
- Validation identifies large adjustments requiring additional approval
- Rollback mode available for testing before committing
- Bulk processing efficient for 50+ corrections
- All balance updates successful
- Processing results include total adjustment amounts
- Updated balances immediately visible in system
- Employee accounts show correct balances
- Accounting reconciliation report generated
- Employees notified of balance corrections with explanations
- Audit trail captures all balance adjustments with reasons

Test Data Reference:
- Variant IDs: V009, V040 (FSA balance scenarios)
- Scenarios requiring balance corrections:
  - Claims processing errors
  - Vendor data feed issues
  - System migration corrections
  - Year-end carryover adjustments

Notes:
- Verify balance update template comprehensive for all benefit types
- Confirm validation prevents unreasonable balance adjustments
- Test threshold for additional approval (large adjustments)
- Verify rollback mode for safe testing
- Ensure adjustment amount calculation automatic and accurate
- Test employee notification explains balance changes clearly
- Confirm accounting reconciliation report complete
- Verify audit trail captures justification for corrections
- Test large batch processing (100+ corrections)
- Ensure balance adjustments properly reflected in claims processing
