Test Script ID: TS-005
Test Scenario: New Hire HSA Election
Priority: High
Preconditions:
- HSA-eligible high-deductible health plan (HDHP) configured
- HSA plan active and available for new hires
- Bank account integration for HSA functional
- IRS contribution limits configured for individual and family coverage
- Employee not enrolled in FSA or other disqualifying coverage
- Employer contribution rules configured if applicable

GIVEN: A new employee (Susan Davis) wants to enroll in a high-deductible health plan with an HSA to save for future medical expenses tax-free
WHEN: The employee selects HDHP and enrolls in HSA with contribution amount during new hire enrollment
THEN: The employee successfully enrolls in HDHP with HSA and contribution deductions properly established

Test Steps:
1. Log into self-service portal as new hire (susan.davis@company.com)
2. Navigate to Benefits Enrollment and select Medical plan category
3. Review available medical plan options including HDHP designation
4. Select High-Deductible Health Plan (HDHP) qualified for HSA
5. Choose coverage level (Employee Only)
6. Review HDHP plan details including higher deductible and lower premium
7. Verify system displays HSA eligibility message for selected HDHP
8. Navigate to Health Savings Account (HSA) enrollment section
9. Review IRS annual contribution limits for individual coverage ($4,150 for 2024)
10. Enter desired annual HSA contribution amount (example: $3,000)
11. Review employer HSA contribution if applicable (example: $500 annually)
12. Verify total HSA contribution does not exceed IRS limits
13. Review per-pay-period deduction amount calculated by system
14. Provide bank account information for HSA setup or select bank partner
15. Review HSA account terms, including triple tax advantage explanation
16. Submit HDHP and HSA elections together
17. Verify confirmation message for both HDHP enrollment and HSA election
18. Check that HSA account setup is initiated with bank partner
19. Verify employee receives HSA debit card information

Expected Result:
- HDHP medical plan enrollment successful
- HSA enrollment completed with annual contribution of $3,000
- Per-pay-period HSA deduction correctly calculated (example: $125 if bi-weekly)
- HSA bank account initiated with employee information
- Coverage effective date matches hire date (2024-03-15)
- Employer contribution credited to HSA if applicable
- Employee receives HSA welcome kit and debit card within 2 weeks
- Confirmation shows pre-tax contribution status
- Employee can view HSA balance and investment options in portal

Test Data Reference:
- Variant IDs: V010, V041
- Test Data: Row 11 (P100010, Susan Davis)
  - Person_Number: P100010
  - First_Name: Susan
  - Last_Name: Davis
  - Email: susan.davis@company.com
  - Hire_Date: 2024-03-15
  - Benefits_Group: BG-001
  - Plan_Name: Health Savings Account
  - Payment_Method: Payroll Deduction

Notes:
- Verify system prevents HSA election if employee enrolled in FSA
- Confirm IRS contribution limit enforcement for individual vs. family coverage
- Test that only HDHP plans trigger HSA eligibility
- Verify catch-up contributions allowed for employees age 55 and older ($1,000 additional)
- Ensure system communicates HSA portability (employee keeps HSA if they leave)
- Test employer contribution timing and crediting to employee HSA
- Verify HSA balance rolls over year to year (no use-it-or-lose-it rule)
