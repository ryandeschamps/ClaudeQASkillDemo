Test Script ID: TS-074
Test Scenario: Purge Voided Life Events
Priority: Medium
Preconditions:
- Benefits administrator role with purge privileges
- Voided life events accumulated in system
- Voided life events retention policy defined
- Purge process configured for life event data
- Audit trail preservation for purged records

GIVEN: System contains voided life events from past 24 months that can be purged
WHEN: Benefits administrator runs purge process to remove voided life events older than 12 months
THEN: Voided life events successfully purged while active life events retained and audit trail preserved

Test Steps:
1. Voided life events accumulated over 24 months
2. Voided reasons: Employee error, duplicate entry, invalid life event, backed out enrollments
3. Data retention policy: Purge voided life events older than 12 months
4. Current date: 2024-11-15
5. Purge target: Voided life events before 2023-11-15 (12 months ago)
6. Benefits administrator logs into Oracle Fusion HCM
7. Navigate to "Data Management" or "Life Event Maintenance"
8. Click "Purge Voided Life Events" or "Life Event Cleanup"
9. System displays purge parameters screen
10. Review purge criteria:
    - Data type: Voided life events only
    - Status filter: Voided (NOT active or completed)
    - Age threshold: Older than 12 months
    - Cutoff date: 2023-11-15 (calculated)
11. Review current life event data:
    - Total life events: 5,000
    - Active/Completed life events: 4,200 (will be retained)
    - Voided life events: 800
    - Voided events older than 12 months: 350 (to be purged)
    - Voided events newer than 12 months: 450 (will be retained)
12. System displays important warning:
    - "Only VOIDED life events older than cutoff will be purged"
    - "Active and completed life events will NOT be affected"
    - "Audit trail summary will be preserved"
13. Review sample voided life events to be purged:
    - Voided marriage event from 2022-08-15 (duplicate entry)
    - Voided birth event from 2023-05-10 (entered in error)
    - Backed out divorce event from 2023-02-20 (processed incorrectly)
14. Select purge mode: "Preview Mode" (first pass)
15. Click "Preview Purge"
16. System identifies records for purge:
    - Voided life events identified: 350
    - Date range: 2022-11-15 to 2023-11-14
    - Life event types: Marriage (45), Birth (78), Divorce (32), Other (195)
    - Associated enrollment changes: Already backed out or voided
17. Review preview results
18. Confirm preview acceptable
19. Switch to "Execute Mode"
20. Enter confirmation: "PURGE VOIDED" (required text)
21. Click "Execute Purge"
22. System processes purge:
    - Archiving audit summary for purged records
    - Deleting voided life event records
    - Preserving references in audit tables
    - Updating life event counts
23. Purge processing complete
24. Review purge results:
    - Voided life events purged: 350
    - Active/Completed life events retained: 4,200 ✓
    - Recent voided events retained: 450 ✓
    - Audit summaries archived: 350
25. Generate purge report:
    - Purge date: 2024-11-15
    - Cutoff date: 2023-11-15
    - Voided events purged: 350
    - By type breakdown: Marriage 45, Birth 78, Divorce 32, Other 195
26. Verify data integrity:
    - Active life events unaffected: ✓
    - Recent voided events retained: ✓
    - Employee enrollment history intact: ✓
27. Review audit trail preservation:
    - Summary records created for purged life events
    - Purge activity logged with details

Expected Result:
- Purge process specific to voided life events
- Clear filtering: only voided status, not active/completed
- Age threshold configurable and enforced
- Current data volumes displayed for informed decision
- Preview mode shows exactly what will be purged
- Comprehensive warnings about permanent deletion
- Confirmation required before execution
- Only voided life events older than cutoff purged
- Active and completed life events completely protected
- Recent voided events (< 12 months) retained
- Audit trail summary preserved for purged records
- Processing efficient for target population (350 records)
- Purge report detailed with breakdown by life event type
- Data integrity verified post-purge
- Employee benefit histories remain intact
- Audit trail captures purge activity comprehensively

Test Data Reference:
- Voided life events from system processing
- Common void reasons:
  - Employee entered in error
  - Duplicate life events
  - Backed out enrollments
  - Invalid life event reported
  - Testing/training records

Notes:
- Verify purge only affects voided life events
- Confirm active and completed life events never touched
- Test age threshold enforcement
- Verify audit trail preservation for compliance
- Ensure no impact on employee benefit histories
- Test preview mode accuracy
- Confirm data integrity checks post-purge
- Verify purge report comprehensiveness
- Test that purged records cannot be recovered
- Ensure compliance with record retention policies
