TEST SCRIPT: TS-106
Test Scenario: Assign Role to Sub-Admin
User Story: As a Logged-in Admin, I want to assign specific roles to sub-admin users, so that I can grant appropriate access levels
Priority: Medium
Related Requirements: FR-023

GIVEN the admin is logged into the admin panel
  AND user roles have been defined
  AND sub-admin users exist
  AND the admin is creating or editing a sub-admin user

WHEN the admin selects a role from the role dropdown
  AND saves the user

THEN the system should:
  - Assign the selected role to the sub-admin
  - Apply all permissions associated with that role
  - Display success confirmation message
  - Update the user record

WHEN the sub-admin logs in

THEN they should have access to:
  - Only the features/modules permitted by their role
  - View/Create/Edit/Delete actions as defined in role permissions
  - No access to restricted features

WHEN the admin changes a sub-admin's role

THEN the system should:
  - Remove permissions from previous role
  - Apply permissions from new role
  - Update access immediately
  - Optionally log out the sub-admin for changes to take effect

WHEN a sub-admin attempts to access a restricted feature

THEN the system should:
  - Deny access
  - Display "Access Denied" or "Insufficient Permissions" message
  - Log the unauthorized access attempt

WHEN viewing sub-admin list

THEN each user should show:
  - Assigned role name
  - Role permissions summary (optional)

WHEN no role is assigned

THEN the system should either:
  - Require role assignment
  - Assign default role
  - Grant no permissions

EXPECTED RESULT:
- Role assignment works correctly
- Permissions are enforced immediately
- Sub-admins can only access permitted features
- Role changes update access dynamically
- Unauthorized access is prevented and logged
- Role assignment is clear in user management
- Access control is robust and secure
- System enforces role-based restrictions
