TEST SCRIPT: TS-118
Test Scenario: Send Automated Email Notifications
User Story: As a System, I want to send automated emails for various events, so that I can keep users informed
Priority: High
Related Requirements: FR-002, FR-008, FR-017

GIVEN the email system is configured
  AND SMTP settings are correct
  AND email templates are set up

WHEN a user registers a new account

THEN the system should:
  - Send email verification email
  - Include verification link
  - Send within minutes of registration

WHEN a user completes an order

THEN the system should:
  - Send order confirmation email
  - Include order details and number
  - Send within minutes of order placement

WHEN order status changes

THEN the system should send email notifications for:
  - Order confirmed
  - Order in process
  - Order shipped (with tracking info)
  - Order delivered

WHEN a user requests password reset

THEN the system should:
  - Send password reset email
  - Include secure reset link
  - Send immediately upon request

WHEN sending any automated email

THEN the system should:
  - Use correct email template
  - Merge dynamic data (name, order number, etc.)
  - Send from configured sender address
  - Log email sending status
  - Retry if initial send fails

WHEN email delivery fails

THEN the system should:
  - Retry sending (2-3 attempts)
  - Log the failure
  - Alert admin if critical email fails

WHEN customer email is invalid

THEN the system should:
  - Log the bounced email
  - Flag customer account for review

EXPECTED RESULT:
- All automated emails are sent correctly
- Emails are received within expected timeframe
- Email content is accurate with merged data
- Email templates display correctly
- Delivery is reliable with retry mechanism
- Failed deliveries are logged
- System maintains email sending history
- Critical notifications are prioritized
- Email system scales with user volume
