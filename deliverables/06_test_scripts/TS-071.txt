TEST SCRIPT: TS-071
Test Scenario: Update Order Status to Delivered
User Story: As a Logged-in Admin, I want to mark an order as Delivered, so that I can complete the order lifecycle
Priority: Critical
Related Requirements: FR-017

GIVEN the admin is logged into the admin panel
  AND an order exists with "Shipped" status
  AND the admin is viewing the order details page

WHEN the admin selects "Delivered" from status dropdown
  OR clicks "Mark as Delivered" button
  AND optionally enters delivery confirmation details
  AND saves the status change

THEN the system should:
  - Update order status to "Delivered"
  - Record delivery date and timestamp
  - Log the admin user who made the change
  - Display success confirmation message
  - Send delivery confirmation email to customer
  - Update order status in order list
  - Mark order as complete

WHEN the order status is updated to Delivered

THEN the customer should receive email notification containing:
  - Delivery confirmation message
  - Order number
  - Delivery date
  - Request for product review/feedback
  - Customer support information

WHEN viewing order history/timeline

THEN the system should show:
  - Status change to "Delivered"
  - Delivery timestamp
  - Admin who confirmed delivery

WHEN order is marked as Delivered

THEN the customer should be able to:
  - Rate and review purchased products
  - View completed order in order history

EXPECTED RESULT:
- Order status updates successfully to Delivered
- Customer receives delivery confirmation email
- Delivery date is recorded accurately
- Status change is logged in order history
- Order appears in "Delivered" filter
- Order lifecycle is complete
- Customer can now review products
- Return/refund period starts (if applicable)
- Order is marked as successful transaction
