TEST SCRIPT: TS-113
Test Scenario: Edit Email Template
User Story: As a Logged-in Admin, I want to modify email templates, so that I can customize customer communications
Priority: Low
Related Requirements: FR-025

GIVEN the admin is logged into the admin panel
  AND email templates exist in the system (order confirmation, shipping notification, etc.)

WHEN the admin navigates to "Email Management" or "Email Templates" section
  AND selects a template to edit (e.g., "Order Confirmation")
  AND clicks "Edit"

THEN the system should display the template editor with:
  - Template name and description
  - Email subject line (with merge tags)
  - Email body editor (HTML or WYSIWYG)
  - Available merge tags/variables list (order number, customer name, etc.)
  - Preview option
  - Save option

WHEN the admin modifies the template:
  - Updates subject line
  - Changes email body text
  - Adds/removes merge tags
  - Modifies styling/formatting
  - Updates logo or branding
  AND saves the changes

THEN the system should:
  - Validate template syntax
  - Update the template
  - Display success confirmation message
  - Apply template to future emails of that type

WHEN the admin uses merge tags

THEN the system should:
  - Show available tags ({{ORDER_NUMBER}}, {{CUSTOMER_NAME}}, etc.)
  - Insert tags correctly in template
  - Replace tags with actual data when sending emails

WHEN the admin previews the template

THEN the preview should show:
  - How email will look with sample data
  - Proper formatting and styling
  - Merged data examples

WHEN the updated template is used

THEN subsequent emails of that type should:
  - Use the new template
  - Include updated content
  - Properly merge dynamic data
  - Display correctly in email clients

EXPECTED RESULT:
- Email templates can be edited successfully
- Template editor provides necessary tools
- Merge tags work correctly
- Preview shows accurate representation
- Changes apply to future emails immediately
- All email types use updated templates
- Dynamic data merges properly
- Professional appearance is maintained
