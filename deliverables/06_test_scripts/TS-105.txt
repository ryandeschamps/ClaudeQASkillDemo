TEST SCRIPT: TS-105
Test Scenario: Edit User Role Permissions
User Story: As a Logged-in Admin, I want to modify permissions for existing roles, so that I can adjust access levels as needed
Priority: Medium
Related Requirements: FR-023

GIVEN the admin is logged into the admin panel
  AND user roles exist in the system
  AND the admin is viewing the role management page

WHEN the admin clicks "Edit" for a specific role
  AND modifies role information:
    - Role name
    - Role description
    - Permission settings (check/uncheck various permissions)
  AND saves the changes

THEN the system should:
  - Validate role name uniqueness if changed
  - Update the role record
  - Update all permission settings
  - Display success confirmation message
  - Apply new permissions to all users with this role

WHEN permissions are modified

THEN users assigned to this role should:
  - Immediately have updated access
  - Lose access to removed permissions
  - Gain access to newly added permissions
  - Be logged out and required to re-login (optional, based on security policy)

WHEN the admin removes critical permissions

THEN the system should:
  - Warn about the impact
  - Confirm the change
  - Proceed if confirmed

WHEN modifying a system default role (if applicable)

THEN the system should either:
  - Prevent modification
  - Warn about modifying default roles
  - Allow with confirmation

WHEN the role name is changed to an existing name

THEN the system should display error message
  AND not update the name

WHEN the changes are saved

THEN the system should:
  - Log the permission changes
  - Record which admin made changes
  - Track change history for audit

EXPECTED RESULT:
- Role permissions update successfully
- Changes apply immediately to assigned users
- Permission granularity is maintained
- Users experience correct access restrictions
- Validation prevents invalid changes
- Warnings provided for significant changes
- Change history is logged
- System default roles are protected (if applicable)
